---
layout: post
status: publish
published: true
title: The Little Tree
author:
  display_name: m√°rio
  login: nausea
  email: emailoftheyear@gmail.com
  url: ''
author_login: nausea
author_email: emailoftheyear@gmail.com
wordpress_id: 100
wordpress_url: https://nausea.io/?p=100
date: '2014-04-16 15:31:42 +0100'
date_gmt: '2014-04-16 15:31:42 +0100'
categories:
- Futilities
tags:
- useless
- Coding
comments: []
---
<p><em>Arvorezinha&nbsp;</em>(meaning little tree in Portuguese) is a <em>hello world</em>-like trivial program which goal is to print a sequence of the same character (usually <strong>*</strong>) in each line in increasing length. It can be used as an introduction to looping constructs in arbitrary programming languages. For example, for n = 5 an <em>Arvorezinha&nbsp;</em>program would print out:</p>
<p>[code]<br />
*<br />
**<br />
***<br />
****<br />
*****<br />
[/code]</p>
<p>Yes, trivially boring. But still, it gets mildly interesting when you try to implement this in every language you can think of. This is what the guys at <a href="http://blol.org">blol.org</a>&nbsp;have been doing for the past few years, implementing <a href="http://blol.org/category/arvorezinha"><em>little trees</em> in almost every language</a> you can think of, from several assembly languages to SQL. Here's one that runs on the <a href="http://blol.org/544-arvorezinha-em-x86-20-boot-sector">boot sector of a x86 machine</a>.</p>
<p>The limited challenge this provides led to the creation of&nbsp;<em>Arvorezinha 2.0</em>, where the little tree is a bit more like a proper tree, with a trunk and everything. So, for n = 5, an <em>Arvorezinha 2.0</em> would look like:</p>
<p>[code]<br />
    *<br />
   ***<br />
  *****<br />
 *******<br />
*********<br />
  #####<br />
  #####<br />
[/code]</p>
<p>My contribution is an <em>Arvorezinha 2.0&nbsp;</em>written in Oracle SQL:</p>
<p>[sql]<br />
select * from (<br />
 select 'a'||lpad(level, 5,'0') as linha,<br />
   rpad(' ', &amp;height-level, ' ')||rpad('*', 2*level-1, '*')<br />
     as arvorezinha<br />
 from dual<br />
 connect by level <= &amp;height<br />
 union<br />
 select 't'||lpad(level, 5,'0') as linha,<br />
   rpad(' ', ((2*&amp;height-1)/4)+1, ' ')||rpad('#', (2*&amp;height-1)/2, '#')<br />
     as arvorezinha<br />
 from dual<br />
 where mod(&amp;height, 2) = 0<br />
 connect by level <= (&amp;height/2)<br />
 union<br />
 select 't'||lpad(level, 5,'0') as linha,<br />
   rpad(' ', ((2*&amp;height-1)/4), ' '||rpad('#', (2*&amp;height-1)/2+1, '#'))<br />
     as arvorezinha<br />
 from dual<br />
 where mod(&amp;height, 2) > 0<br />
 connect by level <= (&amp;height/2)<br />
) order by linha asc;<br />
[/sql]</p>
<p>This implementation uses 3&nbsp;queries. One outputs the upper part (* character) and two others output&nbsp;the trunk (#&nbsp;character), each for when&nbsp;<em>height</em> is even and when it's odd. Basically it's a SQL&nbsp;version of the formulas present in the <a href="http://blol.org/1782-nova-arvorezinhas-1-0-e-2-0-em-perl">reference implementation</a>. Unfortunately, it depends on the <em>connect by level</em>&nbsp;clause which isn't part of MySQL or PostgreSQL. Here are some examples, for different values of the <em>height</em> parameter.</p>
<p>[gallery columns="7" ids="115,114,113,112,111,110,109"]</p>
<p>Hope you enjoyed our little trees ;-)</p>
